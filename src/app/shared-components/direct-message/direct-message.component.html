<div class="message-wrapper">
    <div *ngIf="!dateExists" class="message-date-part">
        <div class="date-row"></div>
        <span class="message-date fontNunito">{{ date }}</span>
    </div>
    <div  [ngClass]="{'reverse': isOwn}" [ngStyle]="editMessage ? {'background-color':'#ECEFFF'} : {}" class="message"  >

        <div *ngIf="!editMessage && !isOwn" class="reaction-popup">
            <img (click)="addNewReaction('check')" src="assets/img/check_40.png" alt="check">
            <img (click)="addNewReaction('like')" src="assets/img/like.png" alt="like">
            <img class="change-color" src="assets/img/add_reaction40.png" alt="react">
            <img class="change-color" src="assets/img/edit.png" alt="edit" (click)="onReplyClick()">
       
        <div *ngIf="showEmojiPicker" [ngClass]="{'emojiWindowLeftSide': isOwn}" #emojiComponent class="emojiWindow">
            <emoji-mart set="apple" (emojiClick)="addEmoji($event, this.conversationId,this.conversationmessageid)" title="Pick your emojiâ€¦"
                emoji="point_up" [totalFrequentLines]="2" [showSingleCategory]="true" [enableSearch]="false"
                [emojiTooltip]="false" [autoFocus]="true" [showPreview]="false" theme="dark" [perLine]="7"></emoji-mart>
        </div>

        <div *ngIf="!editMessage && isOwn" class="reaction-popup">
            <img src="assets/img/add_reaction40.png" alt="add reaction">
            <img (click)="toggleEditPopup()" src="assets/img/dots.png" alt="dots">
            <div *ngIf="isOwn && showEditPopup" class="edit-message"
                [ngStyle]="isOwn ? {'left': '90px','top':'25px'} : {}">
                <span (click)="overwriteMessage()">Nachricht bearbeiten</span>
            </div>
            <img class="change-color" src="assets/img/edit.png" alt="edit">
        </div>
        <img [src]="'assets/img/avatar_' + avatarSrc + '.png'" alt="">
        <div class="message-details" *ngIf="!editMessage">
            <div class="message-over"><span class="message-name">{{ name }}</span><span class="message-time">{{ time }} Uhr</span></div>
            <div [class.own-message]="isOwn" class="message-text"><span>{{ messageText }}</span></div>
            <div class="message-under">
                <div class="message-not-answered">
                    <img class="add-reaction" src="assets/img/add_reaction40.png" alt=""></div>
                </div>
        </div>
        <div *ngIf="editMessage" class="edit-message-input fontNunito">
            <textarea type="text" class="fontNunito" wrap="soft" placeholder={{messageText}}></textarea>
            <img src="assets/img/emoji.png" alt="">
            <button class="close-edit-message fontNunito" (click)="closeEditPopup()">Abbrechen</button>
            <button class="save-edit-message fontNunito">Speichern</button>
    </div>
</div>