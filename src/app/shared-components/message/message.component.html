<div class="message-wrapper">
    <div *ngIf="!isInThread && !dateExists" class="message-date-part">
        <div class="date-row"></div>
        <span class="message-date fontNunito">{{ date }}</span>
    </div>
    <div  [ngClass]="{'reverse': isOwn && !isInThread}" class="message"  >
        <div *ngIf="!isThread && !isInThread" class="reaction-popup">
            <img (click)="addNewReaction('check')" src="assets/img/check_40.png" alt="check">
            <img src="assets/img/like.png" alt="like">
            <img class="change-color" src="assets/img/add_reaction40.png" alt="react">
            <img class="change-color" src="assets/img/edit.png" alt="edit" (click)="onReplyClick()">
            <img (click)="toggleEditPopup()" *ngIf="isOwn"src="assets/img/dots.png" alt="dots"></div>
            <div id="editMessagePopup" *ngIf="isOwn" [ngStyle]="isOwn && isThread ? {'left': '135px'} : {}" class="edit-message"><span (click)="toggleEditPopup()">Nachricht bearbeiten</span></div>
        <div *ngIf="isThread || isInThread" class="reaction-popup ">
            <img src="assets/img/add_reaction40.png" alt="">
            <img (click)="toggleEditPopup()" *ngIf="isOwn" src="assets/img/dots.png" alt="dots">
            <div id="editMessagePopup" [ngStyle]="isOwn && isThread ? {'left': '135px'} : {}" *ngIf="isOwn" class="edit-message"><span (click)="toggleEditPopup()">Nachricht bearbeiten</span></div>
        </div>
        <img [ngStyle]="isThread ? {'padding': '10px 20px 0 40px'}:{}" [src]="'assets/img/avatar_' + avatarSrc + '.png'" alt="">
        <div class="message-details">
            <div class="message-over"><span class="message-name">{{ name }}</span><span class="message-time">{{ time }} Uhr</span></div>
            <div [class.own-message]="isOwn" class="message-text"><span>{{ messageText }}</span></div>
            <div class="message-under">
                <div *ngIf="isAnswered" class="message-answered">
                    <span class="message-answers" (click)="onReplyClick()">{{ threadCount }} Antworten</span>
                    <span class="message-last-answer">Letzte Antwort {{lastAnswerDate}}</span>
                </div>
                <div *ngIf="!isAnswered && !isInThread" class="message-not-answered">
                    <!--<div class="reaction"><img src="assets/img/rocket.png" alt=""><span>1</span></div>
                    <div class="reaction"><img src="assets/img/check.png" alt=""><span>1</span></div>-->
                    <img class="add-reaction" src="assets/img/add_reaction40.png" alt=""></div>
                </div>
        </div>
    </div>
</div>