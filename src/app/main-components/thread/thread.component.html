<div class="thread-wrapper">
    <div class="thread-header">
        <div *ngIf="selectedMessage" class="thread-group">
            <span class="fontNunito">Thread</span><img src="assets/img/tag-purple.png" alt="hashtag"><span class="thread-actual-group">{{selectedMessage.channelName}}</span>
        </div>
        <img class="close" src="assets/img/close.png" alt="close" (click)="closeThreads()">
    </div>
    <div class="thread-feed" *ngIf="selectedMessage">
        <div class="thread-message">
         <app-message
            [avatarSrc]="selectedMessage.avatar"
            [name]="selectedMessage.name"
            [time]="selectedMessage.sendAtTime"
            [messageText]="selectedMessage.messageText"
            [isInThread]="true"
            [isOwn]="selectedMessage.isOwn"
            [emojiReactionsThead]="emojiReactions.get(selectedMessage.messageId)"
            [selectedMessageId]="selectedMessage.messageId"
            [selectedChannelId]="selectedMessage.channelId"
            >
      
            
         </app-message>
            <div class="thread-number-of-answers"><span class="fontNunito">{{ selectedMessage.threadCount }} Antworten</span><div class="line"></div></div>
        </div>
        <div class="thread-answers" #threadFeed>
             <app-message *ngFor="let answer of threadAnswers, index as i"
            [messageData]="answer"
            [date]="answer.sendAt"
            [dateExists]="i > 0 && threadAnswers[i - 1].sendAt === answer.sendAt"
            [avatarSrc]="answer.avatar"
            [name]="answer.name"
            [time]="answer.sendAtTime"
            [messageText]="answer.messageText"
            [isThread]="true"
            [isOwn]="answer.isOwn"
            [emojiReactionsThead]="emojiReactions.get(answer.messageId)"
            [channelIdThread]="answer.channelId"
            [threadAnswersId]="answer.messageId"
        ></app-message>
        </div>
    </div>
    <div class="thread-input-wrapper">
           <ng-container *ngIf="toggleMemberInThread" >
            <app-add-member-to-thread (memberSelected)="insertMemberIntoTextarea($event)"
                [members]="members"  
               ></app-add-member-to-thread>
               </ng-container>


        <div class="thread-input">
            <textarea type="text" class="fontNunito" placeholder="Antworten" wrap="soft" [(ngModel)]="newThreadText"></textarea>
            <div class="thread-input-icons">
                <div>
                    <img src="assets/img/emoji.png" alt="emoji">
                    <img src="assets/img/at.png" (click)="openDialogAddMember()" alt="at">
                </div>
                    <img src="assets/img/send.png" alt="send" (click)="sendReply()">



           
             
            </div>
        </div>
    </div>
</div>